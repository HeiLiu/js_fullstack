<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div id="root"></div>
    <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1525327929710&di=9aa2bd5e32164164df56390f0b71040a&imgtype=jpg&src=http%3A%2F%2Fimg2.imgtn.bdimg.com%2Fit%2Fu%3D2439355652%2C1852440864%26fm%3D214%26gp%3D0.jpg"
        alt="">
    <!-- <script src="http://www.semantic-ui.cn/examples/assets/library/jquery.min.js"></script> -->
    <script>
        // image 结点 node
        //node结点就形成了dom树
        // dom api appendChild .style.property
        // 原材料 html css
        // 树成形了后，触发了dom ready事件（dom树层次结构已经好了）

        // 过程：
        // 解析html构建DOM Tree
        // 构建渲染树(解析css)
        // 布局渲染树
        // 页面的绘制 render

        // 网页内容下载完成 资源
        // http请求的都是资源
        // img script
        // js下载有阻塞,放到底部，如果需要并不复杂，为了加速，选择弃用框架
        // window.onload=function(){
        //     console.log("页面加载完成");
        // }
        // 早一点，DOM Ready 事件
        // $ jQuery window 唯一的命名空间
        // $() $=>function callback
        // function(){}   参数
        (function (g) {
            //只有jquery访问到，外面访问不到
            g.$ = function (param) {
                function ElementWrapper(selector) {
                    this.ele = document.querySelector(selector);
                    if (!this.ele) {
                        throw new Error("没有这个元素");
                    }

                }
                // jquery野心，对原生api的封装
                //js原生api有很多兼容性的问题，这是选择jquery的原因
                ElementWrapper.prototype = {
                    html: function (strHTML) {
                        this.ele.innerHTML = strHTML;
                    }
                };
                if (typeof param === "function") {
                    // 整个dom树的顶级对象
                    //事件注册
                    //IE低版本不支持
                    document.addEventListener("DOMContentLoaded", param, false);
                } else if (typeof param === "string") {
                    // html?
                    // innerHTML
                    // 返回结点
                    // console.log(param);
                    // obj.html() 差距
                    // ele.innerHTML
                    // dom结点=>类


                    const obj = new ElementWrapper(param);
                    return obj;
                }

            }
        })(window);

        $(function () {
            console.log("DOM Ready");
            // js动态语言 随时附加属性
            $("#root").html("hello world");
        });
    </script>
</body>

</html>